webpackJsonp([1],{"+BTi":function(t,e){},"+Rdb":function(t,e){},"/bpg":function(t,e){},"/i/W":function(t,e){},"2bm/":function(t,e){},"7Otq":function(t,e,a){t.exports=a.p+"static/img/logo.5b59cfa.png"},"8z31":function(t,e){},BNJR:function(t,e){},BkSl:function(t,e){},GT3Q:function(t,e){},GXEp:function(t,e){},H3rH:function(t,e){},M9yL:function(t,e){},Mf0D:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("RWjY"),a("+BTi");var n=a("aMwW"),s=a.n(n),r=(a("Mf0D"),a("exT9")),o=a.n(r),i=(a("d7TW"),a("ajQY")),l=a.n(i),u=(a("BNJR"),a("fDPO")),c=a.n(u),d=(a("bRYy"),a("eBGF")),m=a.n(d),f=(a("8z31"),a("SXzR")),p=a.n(f),v=(a("X+ky"),a("HJMx")),h=a.n(v),b=(a("V5v9"),a("D8db")),_=a.n(b),g=(a("/bpg"),a("ACGT")),C=a.n(g),k=(a("bwiK"),a("SExR")),w=a.n(k),x=(a("NOFV"),a("mWcH")),y=a.n(x),T=(a("ZzA9"),a("cgIP")),R=a.n(T),H=(a("+Rdb"),a("Mezo")),W=a.n(H),E=(a("qunJ"),a("vqwl")),U=a.n(E),A=(a("H3rH"),a("6mNG")),F=a.n(A),L=(a("jZDA"),a("91Nw")),j=a.n(L),D=(a("dmRH"),a("EKTV")),M=a.n(D),V=(a("GXEp"),a("mtrD")),z=a.n(V),B=(a("M9yL"),a("OSLW")),G=a.n(B),J=(a("/i/W"),a("V1RD")),N=a.n(J),O=(a("w2s5"),a("oTyR")),S=a.n(O),$=a("7+uW"),q=(a("Xcu2"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]});var X,I=a("VU/8")({name:"App",data:function(){return{}},methods:{}},q,!1,function(t){a("2bm/")},null,null).exports,P=a("/ocq"),Y=a("mtWM"),Z=a.n(Y);function K(t){return!t||""===t||0===t.length}K((X=function(){document.cookie="username=joseph;token=0b37a4482937c930;has-recent-activity=1;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/";var t=document.cookie,e={username:void 0,token:void 0,recent:void 0};if(0===t.length)return e;t=(t=decodeURIComponent(t)).split(";");for(var a=0;a<t.length;a++){var n=t[a].trim(),s=(n=n.split("="))[0].trim(),r=n[1].trim();"username"===s?e.username=r:"token"===s?e.token=r:"has-recent-activity"===s&&(e.recent=1)}return e}()).username)||K(X.token)||Z.a.post("/api/auth",{username:X.username,token:X.token}).then(function(t){console.log(t);var e,a,n,s,r=t.data;r.status&&"ok"===r.status.toLowerCase()?(e=r.username,a=r.token,n=864e5,(s=new Date).setTime(s.getTime()+n),document.cookie="username="+e+";token="+a+";has-recent-activity=1;expires="+s.toUTCString()+";path=/"):(alert("Token 已过期"),function(t,e){document.cookie="username="+t+";token="+e+";has-recent-activity=1;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/"}(r.username,r.token))}).catch(function(t){console.log(t)});var Q={name:"Home",data:function(){return{isCollapse:!1}},computed:{collapseIcon:function(){return this.isCollapse?"el-icon-plus":"el-icon-minus"}},methods:{handleSelect:function(t,e){console.log(t,e),"1"===t&&(this.isCollapse=!this.isCollapse)}}},tt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",{staticClass:"header"},[n("el-row",{attrs:{type:"flex"}},[n("el-col",{attrs:{span:1}},[n("img",{staticClass:"header-img",attrs:{src:a("7Otq")}})]),t._v(" "),n("el-col",{attrs:{span:8}},[n("h1",{staticClass:"header-title"},[t._v("应届生培养系统")])])],1)],1),t._v(" "),n("el-container",[n("el-aside",{staticClass:"asider"},[n("el-menu",{staticClass:"navigator-menu",attrs:{"default-active":"2-1",collapse:t.isCollapse,"background-color":"#545c64","text-color":"#ffffff"},on:{select:t.handleSelect}},[n("el-menu-item",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{class:t.collapseIcon}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.isCollapse?"展开":"折叠"))])])],2),t._v(" "),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-location"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("位置")])]),t._v(" "),n("el-menu-item-group",[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("Group 2")]),t._v(" "),n("el-menu-item",{attrs:{index:"2-1"}},[t._v("2-1")]),t._v(" "),n("el-menu-item",{attrs:{index:"2-2"}},[t._v("2-2")]),t._v(" "),n("el-menu-item",{attrs:{index:"2-3"}},[t._v("2-3")])],1)],2)],1)],1),t._v(" "),n("el-container",{staticClass:"main-container"},[n("el-header",{staticClass:"breadcrum"},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",{attrs:{to:"/"}},[t._v("Home")]),t._v(" "),n("el-breadcrumb-item",[t._v("Blah")]),t._v(" "),n("el-breadcrumb-item",[t._v("blah")]),t._v(" "),n("el-breadcrumb-item",[t._v("blah")])],1)],1),t._v(" "),n("el-main",{staticClass:"main-content"})],1)],1)],1)},staticRenderFns:[]};var et=a("VU/8")(Q,tt,!1,function(t){a("GT3Q"),a("W/ee")},"data-v-600eb745",null).exports,at=[!1,!1];function nt(t,e){return t&&""!==t&&0!==t.length?(at[0]=!0,e()):(at[0]=!1,e(new Error("用户名不能为空")))}function st(t,e){return!t||"string"==typeof t&&t.length<8?(at[1]=!1,e(new Error("密码必须大于8位"))):"string"!=typeof t||t.match(/^[A-Za-z0-9_]+$/)?(at[1]=!0,e()):(at[1]=!1,e(new Error("密码只能包含数字、英文大小写字母和下划线")))}var rt={name:"Login",data:function(){var t=this;return setInterval(function(){nt(t.auth.username,function(){}),st(t.auth.password,function(){}),t.banLogin=at.every(function(t){return t})?void 0:"disabled"},500),{labelPosition:"right",character:"学生",rememberUsername:!1,auth:{username:"",password:""},banLogin:!0,rules:{username:[{validator:function(t,e,a){return nt(e,a)},trigger:"blur"}],password:[{validator:function(t,e,a){return st(e,a)},trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){var a,n=void 0;return t?(alert("submit"),location.href="/",a={character:e.character,username:e.auth.username,password:e.auth.password},Z.a.post("/api/auth",a).then(function(t){console.log(t);var e=t.data;e.status&&"ok"===e.status.toLowerCase()?document.cookie="username="+e.username+";token="+e.token+";path=/":alert("Authentication failed")}).catch(function(t){console.log(t)})):n=!1,e.auth.password="",n})}}},ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login-page"}},[t._m(0),t._v(" "),a("h1",[t._v("用户登录")]),t._v(" "),a("div",[a("el-radio-group",{staticClass:"radio-group",model:{value:t.character,callback:function(e){t.character=e},expression:"character"}},[a("el-radio-button",{staticClass:"radio-button",attrs:{label:"学生"}}),t._v(" "),a("el-radio-button",{staticClass:"radio-button",attrs:{label:"导师"}}),t._v(" "),a("el-radio-button",{staticClass:"radio-button",attrs:{label:"上级"}}),t._v(" "),a("el-radio-button",{staticClass:"radio-button",attrs:{label:"管理员"}})],1)],1),t._v(" "),a("div",{staticClass:"login-form-div"},[a("el-form",{ref:"authForm",staticClass:"login-form",attrs:{model:t.auth,"label-position":t.labelPosition,rules:t.rules,"label-width":"80px",size:"medium"}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{maxlength:"20"},model:{value:t.auth.username,callback:function(e){t.$set(t.auth,"username",e)},expression:"auth.username"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",minlength:"6",maxlength:"20"},model:{value:t.auth.password,callback:function(e){t.$set(t.auth,"password",e)},expression:"auth.password"}})],1),t._v(" "),a("div",{staticClass:"flex-row"},[a("el-form-item",{staticClass:"left-align"},[a("el-checkbox",{attrs:{disabled:""},model:{value:t.rememberUsername,callback:function(e){t.rememberUsername=e},expression:"rememberUsername"}},[t._v("记住用户名")])],1),t._v(" "),a("a",{staticClass:"justify",attrs:{href:"javascript:void(0)"}},[t._v("忘记密码？")])],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"submit-button",attrs:{disabled:t.banLogin,type:"primary"},on:{click:function(e){return t.submitForm("authForm")}}},[t._v("登录")])],1)],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("div",{staticClass:"container"},[e("img",{staticClass:"center-logo",attrs:{src:a("7Otq")}}),e("br")])])}]};var it=a("VU/8")(rt,ot,!1,function(t){a("BkSl")},null,null).exports;$.default.use(P.a);var lt=new P.a({routes:[{path:"/",name:"Home",component:et},{path:"/login",name:"Login",component:it}],mode:"history"});$.default.config.productionTip=!1,$.default.use(S.a),$.default.use(N.a),$.default.use(G.a),$.default.use(z.a),$.default.use(M.a),$.default.use(j.a),$.default.use(F.a),$.default.use(U.a),$.default.use(W.a),$.default.use(R.a),$.default.use(y.a),$.default.use(w.a),$.default.use(C.a),$.default.use(_.a),$.default.use(h.a),$.default.use(p.a),$.default.use(m.a),$.default.use(c.a),$.default.use(l.a),$.default.use(o.a),$.default.use(s.a),$.default.component("user-tuple",{props:["user"],template:"<li><tr><td>{{user.id}}</td><td>{{user.name}}</td><td>{{user.password}}</td></tr></li>"}),new $.default({el:"#app",router:lt,components:{App:I},template:"<App/>"})},NOFV:function(t,e){},RWjY:function(t,e){},V5v9:function(t,e){},"W/ee":function(t,e){},"X+ky":function(t,e){},Xcu2:function(t,e){},ZzA9:function(t,e){},bRYy:function(t,e){},bwiK:function(t,e){},d7TW:function(t,e){},dmRH:function(t,e){},jZDA:function(t,e){},qunJ:function(t,e){},w2s5:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.65444282437650625083.js.map